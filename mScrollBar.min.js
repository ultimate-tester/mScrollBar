(function(a){a.fn.mScrollBar=function(d){var f=a.extend({},d);$element=a(this);$element.css("overflow","hidden");var c=a('<div class="mScrollBar"></div>').appendTo($element);var e=a('<div class="mScrollBarKnob"></div>').appendTo(c);$element.visibleHeight=function(){var k=a(window).scrollTop(),l=k+a(window).height(),g=$element.offset().top,j=g+$element.prop("scrollHeight"),h=g<k?k:g,i=j>l?l:j;return i-h};$element.updateKnobPosition=function(){var g=$element.visibleHeight();var j=$element.prop("scrollHeight");var i=j/g;var h=(a(window).scrollTop()/i);e.css("top",h+"px")};a(window).resize(function(){var g=$element.visibleHeight();var i=$element.prop("scrollHeight");var h=(100/(i/g));e.css("height",h+"%")}).resize();function b(j){c.finish().fadeTo("fast",1);var k=j.wheelDelta?j.wheelDelta:-j.detail;var i=(k<0);var h=a(window).scrollTop();var g=i?(h+30):(h-30);$element.scrollTop(g);$element.trigger("scroll");c.finish().delay(300).fadeTo("fast",0.3)}$element.scroll(function(){$element.updateKnobPosition()});window.addEventListener("mousewheel",b);window.addEventListener("DOMMouseScroll",b)}}(jQuery));